<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>Assessing Amazon Alexa's Encrypted Traffic via Kindle Fire</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
  <link href="https://markclayton.github.io" rel="canonical" />
  <!-- <link rel="shortcut icon" href="static/images/favicon.ico" /> -->

  <!-- Feed -->
      <link href="https://markclayton.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="_bullz3ye Full Atom Feed" />

  <link href="https://markclayton.github.io/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="https://markclayton.github.io/theme/css/code_blocks/github.css" rel="stylesheet">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


    <link href="https://markclayton.github.io/assessing-amazon-alexas-encrypted-traffic-via-kindle-fire.html" rel="canonical" />

        <meta name="description" content="I recently purchased an Amazon Echo to do some research and gain some more experience in the IoT space. Looking around, there has been...">

        <meta name="author" content="Mark Clayton">

        <meta name="tags" content="amazon">
        <meta name="tags" content="echo">
        <meta name="tags" content="research">
        <meta name="tags" content="hacking">
        <meta name="tags" content="kindle">

        <meta property="og:locale" content="" />
    <meta property="og:site_name" content="_bullz3ye" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="_bullz3ye" />
    <meta property="og:description" content="...still thinking of a genius subtitle, but I break things." />
    <meta property="og:url" content="https://markclayton.github.io" />
      <meta name="og:image" content="https://markclayton.github.io/theme/images/post-bg.jpg">

  <meta property="og:type" content="article">
            <meta property="article:author" content="https://markclayton.github.io/author/mark-clayton.html">
  <meta property="og:url" content="https://markclayton.github.io/assessing-amazon-alexas-encrypted-traffic-via-kindle-fire.html">
  <meta property="og:title" content="Assessing Amazon Alexa's Encrypted Traffic via Kindle Fire">
  <meta property="article:published_time" content="2017-06-06 06:45:00-05:00">
            <meta property="og:description" content="I recently purchased an Amazon Echo to do some research and gain some more experience in the IoT space. Looking around, there has been...">

            <meta property="og:image" content="https://markclayton.github.io/theme/images/post-bg.jpg">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@_bullz3ye">
        <meta name="twitter:title" content="Assessing Amazon Alexa's Encrypted Traffic via Kindle Fire">
        <meta name="twitter:url" content="https://markclayton.github.io/assessing-amazon-alexas-encrypted-traffic-via-kindle-fire.html">

            <meta name="twitter:image:src" content="https://markclayton.github.io/theme/images/post-bg.jpg">

            <meta name="twitter:description" content="I recently purchased an Amazon Echo to do some research and gain some more experience in the IoT space. Looking around, there has been...">
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>
          <li><a href="/" role="presentation">Home</a></li>
          <li><a href="https://twitter.com/_bullz3ye" role="presentation">Twitter</a></li>
          <li><a href="mailto:markclayton93@gmail.com" role="presentation">Email</a></li>
          <li><a href="https://github.com/markclayton" role="presentation">Github</a></li>


        <li class="nav-rss"><a href="https://markclayton.github.io/feeds/all.atom.xml"><i class="ic ic-rss"></i> Subscribe</a></li>

    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span class="blog-logo">
                <a href="https://markclayton.github.io"><img src="images/site-logo.png" alt="Blog Logo" /></a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">Assessing Amazon Alexa's Encrypted Traffic via Kindle Fire</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="https://markclayton.github.io/author/mark-clayton.html">Mark clayton</a>
            | <time datetime="Tue 06 June 2017">Tue 06 June 2017</time>
        </span>
        <!-- TODO : Modified check -->
        
            <div class="post-cover cover" style="background-color: black">
        
      </div>
    </header>    

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>I recently purchased an Amazon Echo to do some research and gain some more experience in the IoT space. Looking around, there has been some interesting work done in assessing the Echo for <a href="https://www.iot-tests.org/2017/02/testing-amazon-echo-dot-alexa-app/">vulnerabilities</a>, traffic analysis, <a href="https://vanderpot.com/Clinton_Cook_Paper.pdf">rooting the device</a>, and more. Though I haven't had a ton of success yet in finding issues, I did find a bit of useful information that may help others and myself. </p>
<p>Reading through other's blog post, a common issues seems to be capturing and accessing the Echo's traffic. <a href="https://medium.com/@dweinstein/amazon-echo-dot-explorations-part-1-5f5ae38ffeab">Somebody</a> analyzed the browser-based Echo setup process. Another <a href="https://medium.com/@micaksica/exploring-the-amazon-echo-dot-part-1-intercepting-firmware-updates-c7e0f9408b59">intercepted</a> Echo traffic using an iptables and DD-WRT to intercept firmware updates. It was the latter article by <a href="https://medium.com/@micaksica/">@micaksica</a> that really peaked my interest. I replicated the steps in the post, so I'm analyzing the firmware now (which will be for another post maybe). I'm new to ARM assembly and APK decompiling, but I'm reading a book and some tutorials :) Moving on...</p>
<p>What peaked my interest about this post was capture Echo's HTTPS traffic. In Wireshark, the majority of the traffic is TLS 1.2 encrypted (as of this post). I would read the article for more information, but long story short Echo didn't want to play nice when proxying TLS connections. </p>
<p>However, I believe I found a workaround to this issue. The Amazon Alexa software comes installed by default on the Kindle Fire Tablets. To my knowledge it's the same software on the Echo itself, especially when looking at an older Echo firmware update, it showed that the OS version is <code>ro.build.version.fireos=5.5.0.3</code>. Echo used Kindle Fire OS.</p>
<p>Using the Kindle Fire tablet, you can setup the device to <a href="https://support.portswigger.net/customer/portal/articles/1841101-configuring-an-android-device-to-work-with-burp">proxy</a> app traffic through Burp. Alexa is now just another app on the device. When Alexa is triggered or performs any action I get the traffic through Burp, bypassing the need to deal with secure communications or get the Echo device to play nice with my CA. Alexa and Burp are now friends :) </p>
<p>To showcase a bit of this I wanted to show an "exchange?" that takes place when asking Alexa something like "<em>what is the weather?</em>". </p>
<p><img alt="echo traffic through burp" src="/images/burp.png"></p>
<p>One really interesting thing about this is the call to <code>https://tinytts.amazon.com/</code>. If you follow that link, it contains the Alexa response in .mp3 format. However, it looks like those files exist for awhile, if not days. This makes me wonder if the responses are stored forever, and if it is possible to capture responses from other users. </p>
<p>Anyway, that's all I have right now. I figure somebody would find this useful and it'll help them in researching this device. </p>
            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=Assessing Amazon Alexa's Encrypted Traffic via Kindle Fire&amp;url=https://markclayton.github.io/assessing-amazon-alexas-encrypted-traffic-via-kindle-fire.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://markclayton.github.io/assessing-amazon-alexas-encrypted-traffic-via-kindle-fire.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=https://markclayton.github.io/assessing-amazon-alexas-encrypted-traffic-via-kindle-fire.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="https://markclayton.github.io/tag/amazon.html">amazon</a><a href="https://markclayton.github.io/tag/echo.html">echo</a><a href="https://markclayton.github.io/tag/research.html">research</a><a href="https://markclayton.github.io/tag/hacking.html">hacking</a><a href="https://markclayton.github.io/tag/kindle.html">kindle</a>                </aside>

                <div class="clear"></div>

 

                </section>


                <aside class="post-nav">
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>
  
    <footer id="footer">
      <div class="inner">
        <section class="credits">
          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script type="text/javascript" src="https://markclayton.github.io/theme/js/script.js"></script>
  
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-100526274-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>